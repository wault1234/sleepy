<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Grace it's time for bed</title>
  <style>
    body {
      font-family: sans-serif;
      text-align: center;
      padding: 20px;
      background-color: #ffd6eb;
    }
    .input-row {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 10px;
      margin-top: 20px;
    }
    #time-input {
      font-size: 16px;
      padding: 5px;
      width: 100px;
    }
    #enter-button {
      padding: 10px 20px;
      font-size: 16px;
      cursor: pointer;
    }
    .button-container,
    .confirmation-buttons {
      display: flex;
      justify-content: center;
      margin: 20px 0;
      gap: 10px;
    }
    button {
      padding: 10px 20px;
      font-size: 16px;
      cursor: pointer;
    }
    .warning {
      color: red;
      font-weight: bold;
      animation: shake 0.5s;
    }
    .countdown {
      font-size: 24px;
      color: darkred;
      font-weight: bold;
      margin: 20px 0;
    }
    .defiant-button {
      background-color: #ffcccc;
      border: 2px solid red;
    }
    @keyframes shake {
      0% { transform: translateX(0); }
      25% { transform: translateX(-5px); }
      50% { transform: translateX(5px); }
      75% { transform: translateX(-5px); }
      100% { transform: translateX(0); }
    }
    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.1); }
      100% { transform: scale(1); }
    }
    @keyframes flash {
      0% { opacity: 1; }
      50% { opacity: 0.3; }
      100% { opacity: 1; }
    }
  </style>
</head>
<body>
  <div id="main-content">
    <h1>Welcome to the website I've designed for you</h1>
    <p>What's the time now? (Enter the hour in the 24 hour format, example 21 for 9PM):</p>
    <div class="input-row">
      <input type="number" id="time-input" placeholder="e.g., 21" min="0" max="24" />
      <button id="enter-button" onclick="checkTime()">Enter</button>
    </div>
    <img src="eating-caby.gif" alt="Time selection GIF" style="max-width: 100%; height: auto; margin-top: 20px;">
    <div id="message"></div>
  </div>

  <script>
    let rebelliousCount = 0;
    let countdownInterval;

    function checkTime() {
      const time = parseInt(document.getElementById("time-input").value);
      const mainContent = document.getElementById("main-content");

      if (isNaN(time) || time < 0 || time > 24) {
        document.getElementById("message").textContent = "Please enter a valid hour between 0 and 24.";
      } else if (time >= 21) {
        mainContent.innerHTML = `
          <h2>It's late! Have you finished your bedtime routine?</h2>
          <img src="capybara-orange.gif" alt="Time selection GIF" style="max-width: 100%; height: auto; margin-top: 20px;">
          <div class="confirmation-buttons">
            <button onclick="askNextQuestion()">Yes</button>
            <button onclick="confirmNo()">No</button>
          </div>
        `;
      } else {
        document.getElementById("message").textContent = "Not bedtime yet! You're safe... for now üòà";
      }
    }

    function confirmNo() {
      document.getElementById("main-content").innerHTML = `
        <h2>Be like this capybara and go wash your face or take a shower and come back if you finish. üßºüöø</h2>
        <img src="capybara-cute.gif" alt="Capybara bedtime reminder" style="max-width: 100%; height: auto; margin-top: 20px;">
        <div class="confirmation-buttons">
          <button onclick="askNextQuestion()">Yes, I finished</button>
          <button onclick="remindAgain()">No, I'll do it later</button>
        </div>
      `;
    }

    function remindAgain() {
      rebelliousCount++;
      if (rebelliousCount >= 3) {
        defiantChoice();
      } else {
        document.getElementById("main-content").innerHTML = `
          <h2>‚è∞ Remember! A good sleep starts with a good routine!</h2>
          <img src="capybara-cute.gif" alt="Capybara bedtime reminder" style="max-width: 100%; height: auto; margin-top: 20px;">
          <div class="confirmation-buttons">
            <button onclick="askNextQuestion()">Okay, I'll do it now</button>
            <button onclick="remindAgain()">I'm rebellious today (${rebelliousCount}/3)</button>
          </div>
        `;
      }
    }

    function defiantChoice() {
      let secondsLeft = 5;
      document.getElementById("main-content").innerHTML = `
        <h2 class="warning" style="animation: flash 0.5s infinite;">YOU LEFT ME WITH NO CHOICE!!!</h2>
        <div class="countdown">Starting consequences in: ${secondsLeft}</div>
        <img src="capybara-aaa-capybara-a.gif" alt="Angry Capybara" style="max-width: 100%; height: auto; margin: 20px 0; animation: pulse 0.5s infinite;" />
      `;
      countdownInterval = setInterval(() => {
        secondsLeft--;
        const countdownText = document.querySelector(".countdown");
        if (countdownText) {
          countdownText.textContent = `Starting consequences in: ${secondsLeft}`;
        }
        if (secondsLeft <= 0) {
          clearInterval(countdownInterval);
          document.getElementById("main-content").innerHTML = `
            <h2 class="warning">YOUR DEVICE WILL NOW SELF-DESTRUCT</h2>
            <div class="countdown">Just kidding! But seriously, go to sleep üò†</div>
            <img src="capybara-cute.gif" alt="Disappointed Capybara" style="max-width: 100%; height: auto; margin-top: 20px;">
            <div class="confirmation-buttons">
              <button onclick="askNextQuestion()">Fine, I'm finished</button>
            </div>
          `;
        }
      }, 1000);
    }

    function askNextQuestion() {
      document.getElementById("main-content").innerHTML = `
        <h2>Next question: Did you finish praying?</h2>
        <img src="capybara.gif" alt="Prayer reminder" style="max-width: 100%; height: auto; margin-top: 20px;">
        <div class="confirmation-buttons">
          <button onclick="confirmPrayer()">Yes ‚úÖ</button>
          <button onclick="remindToPray()">No ‚ùå</button>
        </div>
      `;
    }

    function confirmPrayer() {
      document.getElementById("main-content").innerHTML = `
        <h2>Very good! Now you can sleep with a clean heart and peaceful mind üí§</h2>
        <img src="capybara-pixel-art.gif" alt="Peaceful sleep" style="max-width: 100%; height: auto; margin-top: 20px;">
        <div style="margin-top: 20px;">
          <button id="important-btn" style="padding: 10px 20px; font-size: 16px; cursor: pointer;">
            Click on this, it's something I want you to know
          </button>
          <p id="important-message" style="margin-top: 15px; font-style: italic;"></p>
        </div>
      `;
      setTimeout(() => {
        const btn = document.getElementById("important-btn");
        if (btn) btn.addEventListener("click", showImportantMessage);
      }, 0);
    }

    function showImportantMessage() {
      const message =
        "I'm not sure if you remember this but 1 time I was sick in the month of March and you told me whatever stress or overthinking I have I should always open up to you..." +
        "<br><br>... [Full message continues here, as in your original] ..." +
        "<br><br><strong><a href='https://www.youtube.com/watch?v=dQw4w9WgXcQ' target='_blank'>Click here, this part is important </a></strong><br><br>" +
        "BTW the Capybara was 'coz you like them so I picked those gifs hahaha forgive me and thanks a lot. Remember, whenever you need me, I will always try to be there. Even though we don't talk much.";

      document.getElementById("important-message").innerHTML = message;

      // Clear the page after 50 minutes
      setTimeout(() => {
        document.body.innerHTML = "";
      }, 3000000);
    }

    function remindToPray() {
      document.getElementById("main-content").innerHTML = `
        <h2>Don't forget to pray before sleep. Try again!</h2>
        <img src="capybara-washing.gif" alt="washing-washing" style="max-width: 100%; height: auto; margin-top: 20px;">
        <div class="confirmation-buttons">
          <button onclick="confirmPrayer()">Okay, I prayed now</button>
        </div>
      `;
    }

    // Auto-clear after 50 minutes
    setTimeout(() => {
      document.body.innerHTML = "";
    }, 3000000);
  </script>
</body>
</html>
